{"version":3,"sources":["components/services/personsService.js","components/Input.js","components/AddForm.js","components/Person.js","components/Persons.js","components/Notification.js","components/App.js","index.js"],"names":["baseURL","axios","get","then","response","data","person","post","catch","err","Promise","reject","id","delete","put","Input","label","name","value","handleInput","onChange","AddForm","handleSubmit","number","handleChange","onSubmit","type","Person","handleDelete","onClick","Persons","persons","map","key","Notification","notification","className","message","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchValue","setSearchValue","setNotification","useEffect","personsService","toLowerCase","includes","push","e","target","preventDefault","duplicate","newPerson","length","concat","error","setTimeout","window","confirm","modifiedObj","filter","p","ReactDOM","render","document","getElementById"],"mappings":"2OAEMA,EAAU,eAwBD,EAtBA,WACd,OAAOC,IAAMC,IAAIF,GAASG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAqBxC,EAlBA,SAACC,GACf,OAAOL,IACLM,KAAKP,EAASM,GACdH,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BG,OAAM,SAACC,GAAD,OAASC,QAAQC,OAAOF,EAAIL,cActB,EAXA,SAACQ,GACf,OAAOX,IAAMY,OAAN,UAAgBb,EAAhB,YAA2BY,KAUpB,EAPA,SAACA,EAAIP,GACnB,OAAOJ,IACLa,IADK,UACEd,EADF,YACaY,GAAMP,GACxBF,MAAK,SAACC,GAAD,OAAcA,EAASC,QAC5BG,OAAM,SAACC,GAAD,OAASC,QAAQC,OAAOF,EAAIL,cCZtBW,EATD,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YAEnC,OACE,oCACGH,EADH,IACU,2BAAOC,KAAMA,EAAMC,MAAOA,EAAOE,SAAUD,MCgB1CE,EAnBC,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,aAAcL,EAAiC,EAAjCA,KAAMM,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAE7C,OACE,oCACE,0BAAMC,SAAUH,GACd,sCACQ,kBAAC,EAAD,CAAOL,KAAM,OAAQC,MAAOD,EAAME,YAAaK,KAEvD,wCACU,kBAAC,EAAD,CAAOP,KAAM,SAAUC,MAAOK,EAAQJ,YAAaK,KAE7D,6BACE,4BAAQE,KAAK,UAAb,WCJKC,EATA,SAAC,GAA8B,IAA5BrB,EAA2B,EAA3BA,OAAQsB,EAAmB,EAAnBA,aACxB,OACE,4BACGtB,EAAOW,KADV,IACiBX,EAAOiB,OAAQ,IAC9B,4BAAQM,QAAS,kBAAMD,EAAatB,KAApC,YCOSwB,EAVC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASH,EAAmB,EAAnBA,aAC1B,OACE,4BACGG,EAAQC,KAAI,SAAC1B,GAAD,OACX,kBAAC,EAAD,CAAQ2B,IAAK3B,EAAOM,GAAIN,OAAQA,EAAQsB,aAAcA,SCO/CM,EAZM,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACvB,OAAqB,OAAjBA,EACI,KAIP,yBAAKC,UAAWD,EAAaT,MAC5B,2BAAIS,EAAaE,WCqJLC,EAvJH,WAAO,IAAD,EACaC,mBAAS,IADtB,mBACVR,EADU,KACDS,EADC,OAGaD,mBAAS,IAHtB,mBAGVE,EAHU,KAGDC,EAHC,OAIiBH,mBAAS,IAJ1B,mBAIVI,EAJU,KAICC,EAJD,OAKqBL,mBAAS,IAL9B,mBAKVM,EALU,KAKGC,EALH,OAMuBP,mBAAS,MANhC,mBAMVJ,EANU,KAMIY,EANJ,KAQjBC,qBAAU,WACTC,IAAwB9C,MAAK,SAAC4B,GAC7BS,EAAWT,QAEV,IAqGH,IAAI1B,EAAI,YAAO0B,GAYf,MAVoB,KAAhBc,IACHxC,EAAO,GAEP0B,EAAQC,KAAI,SAAC1B,GACRA,EAAOW,KAAKiC,cAAcC,SAASN,EAAYK,gBAClD7C,EAAK+C,KAAK9C,OAMZ,6BACC,yCACA,kBAAC,EAAD,CAAc6B,aAAcA,IAC5B,kBAAC,EAAD,CACCnB,MAAO,gBACPE,MAAO2B,EACP1B,YAtHkB,SAACkC,GAAD,OAAOP,EAAeO,EAAEC,OAAOpC,UAyHlD,yCAEA,kBAAC,EAAD,CACCI,aA1HH,SAAsB+B,GAGrB,GAFAA,EAAEE,iBAEGd,EAAL,CAEA,IAAIe,EAAY,KAQhB,GAPAzB,EAAQC,KAAI,SAAC1B,GACRmC,EAAQS,gBAAkB5C,EAAOW,KAAKiC,gBACzCM,EAAYlD,MAKI,OAAdkD,EAAJ,CAiCA,IAAMC,EAAY,CACjBxC,KAAMwB,EACNlB,OAAQoB,EACR/B,GAAImB,EAAQ2B,OAAS,GAGtBT,EACSQ,GACPtD,MAAK,SAACE,GACNmC,EAAWT,EAAQ4B,OAAOtD,IAC1B0C,EAAgB,CACfV,QAAQ,SAAD,OAAWoB,EAAUxC,KAArB,KACPS,KAAM,eAGPlB,OAAM,SAACC,GACPsC,EAAgB,CACfV,QAAS5B,EAAIJ,KAAKuD,MAClBlC,KAAM,aAITmC,YAAW,kBAAMd,EAAgB,QAAO,KACxCL,EAAW,IACXE,EAAa,SAxDZ,GACCkB,OAAOC,QAAP,UACIP,EAAUvC,KADd,mFAGC,CACD,IAAM+C,EAAc,CACnB/C,KAAMwB,EACNlB,OAAQoB,GAGTM,EACSO,EAAU5C,GAAIoD,GACrB7D,MAAK,SAACE,GACNmC,EACCT,EAAQkC,QAAO,SAACC,GAAD,OAAOA,EAAEtD,KAAO4C,EAAU5C,MAAI+C,OAAOtD,OAGrDG,OAAM,SAACC,GACPsC,EAAgB,CACfV,QAAS5B,EAAIJ,KAAKuD,MAClBlC,KAAM,UAGPmC,YAAW,kBAAMd,EAAgB,QAAO,QAG1CL,EAAW,IACXE,EAAa,OAkFbpB,aAlDH,SAAsB6B,GACC,SAAlBA,EAAEC,OAAOrC,MACZyB,EAAWW,EAAEC,OAAOpC,OAGC,WAAlBmC,EAAEC,OAAOrC,MACZ2B,EAAaS,EAAEC,OAAOpC,QA6CrBD,KAAMwB,EACNlB,OAAQoB,IAGT,uCAEA,kBAAC,EAAD,CAASZ,QAAS1B,EAAMuB,aA/C1B,SAAsBtB,GACjBwD,OAAOC,QAAP,0CAAkDzD,EAAOW,KAAzD,QACHgC,EAAsB3C,EAAOM,IAAIT,MAAK,SAACC,GACtC2C,EAAgB,CACfV,QAAQ,GAAD,OAAK/B,EAAOW,KAAZ,0BACPS,KAAM,YAGPmC,YAAW,kBAAMd,EAAgB,QAAO,QAEzCP,EAAWT,EAAQkC,QAAO,SAACC,GAAD,OAAOA,EAAEtD,KAAON,EAAOM,a,MC/GpDuD,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.1215c061.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseURL = '/api/persons';\n\nconst getAll = () => {\n\treturn axios.get(baseURL).then((response) => response.data);\n};\n\nconst create = (person) => {\n\treturn axios\n\t\t.post(baseURL, person)\n\t\t.then((response) => response.data)\n\t\t.catch((err) => Promise.reject(err.response));\n};\n\nconst remove = (id) => {\n\treturn axios.delete(`${baseURL}/${id}`);\n};\n\nconst update = (id, data) => {\n\treturn axios\n\t\t.put(`${baseURL}/${id}`, data)\n\t\t.then((response) => response.data)\n\t\t.catch((err) => Promise.reject(err.response));\n};\n\nexport default { getAll, create, remove, update };\n","import React from 'react';\n\nconst Input = ({ label, name, value, handleInput }) => {\n\n  return (\n    <>\n      {label} <input name={name} value={value} onChange={handleInput} />\n    </>\n  );\n}\n\nexport default Input;","import React from 'react';\nimport Input from './Input';\n\nconst AddForm = ({ handleSubmit, name, number, handleChange }) => {\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <Input name={'name'} value={name} handleInput={handleChange} />\n        </div>\n        <div>\n          number: <Input name={'number'} value={number} handleInput={handleChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n}\n\nexport default AddForm;","import React from \"react\";\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <li>\n      {person.name} {person.number}{\" \"}\n      <button onClick={() => handleDelete(person)}>delete</button>\n    </li>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ persons, handleDelete }) => {\n  return (\n    <ul>\n      {persons.map((person) => (\n        <Person key={person.id} person={person} handleDelete={handleDelete} />\n      ))}\n    </ul>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Notification = ({ notification }) => {\n\tif (notification === null) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className={notification.type}>\n\t\t\t<p>{notification.message}</p>\n\t\t</div>\n\t);\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport personsService from './services/personsService';\nimport Input from './Input';\nimport AddForm from './AddForm';\nimport Persons from './Persons';\nimport Notification from './Notification';\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [searchValue, setSearchValue] = useState('');\n\tconst [notification, setNotification] = useState(null);\n\n\tuseEffect(() => {\n\t\tpersonsService.getAll().then((persons) => {\n\t\t\tsetPersons(persons);\n\t\t});\n\t}, []);\n\n\tconst handleSearch = (e) => setSearchValue(e.target.value);\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tif (!newName) return;\n\n\t\tlet duplicate = null;\n\t\tpersons.map((person) => {\n\t\t\tif (newName.toLowerCase() === person.name.toLowerCase()) {\n\t\t\t\tduplicate = person;\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\tif (duplicate !== null) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${duplicate.name} already exists in the phonebook, replace the old phone number with a new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst modifiedObj = {\n\t\t\t\t\tname: newName,\n\t\t\t\t\tnumber: newNumber,\n\t\t\t\t};\n\n\t\t\t\tpersonsService\n\t\t\t\t\t.update(duplicate.id, modifiedObj)\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.filter((p) => p.id !== duplicate.id).concat(data)\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\tmessage: err.data.error,\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsetTimeout(() => setNotification(null), 5000);\n\t\t\t\t\t});\n\n\t\t\t\tsetNewName('');\n\t\t\t\tsetNewNumber('');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tconst newPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t\tid: persons.length + 1,\n\t\t};\n\n\t\tpersonsService\n\t\t\t.create(newPerson)\n\t\t\t.then((data) => {\n\t\t\t\tsetPersons(persons.concat(data));\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: `Added ${newPerson.name}.`,\n\t\t\t\t\ttype: 'success',\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: err.data.error,\n\t\t\t\t\ttype: 'error',\n\t\t\t\t});\n\t\t\t});\n\n\t\tsetTimeout(() => setNotification(null), 5000);\n\t\tsetNewName('');\n\t\tsetNewNumber('');\n\t}\n\n\tfunction handleChange(e) {\n\t\tif (e.target.name === 'name') {\n\t\t\tsetNewName(e.target.value);\n\t\t}\n\n\t\tif (e.target.name === 'number') {\n\t\t\tsetNewNumber(e.target.value);\n\t\t}\n\t}\n\n\tfunction handleDelete(person) {\n\t\tif (window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n\t\t\tpersonsService.remove(person.id).then((response) => {\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: `${person.name} removed successfully.`,\n\t\t\t\t\ttype: 'success',\n\t\t\t\t});\n\n\t\t\t\tsetTimeout(() => setNotification(null), 5000);\n\t\t\t});\n\t\t\tsetPersons(persons.filter((p) => p.id !== person.id));\n\t\t}\n\t}\n\n\tlet data = [...persons];\n\n\tif (searchValue !== '') {\n\t\tdata = [];\n\n\t\tpersons.map((person) => {\n\t\t\tif (person.name.toLowerCase().includes(searchValue.toLowerCase())) {\n\t\t\t\tdata.push(person);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification notification={notification} />\n\t\t\t<Input\n\t\t\t\tlabel={'search filter'}\n\t\t\t\tvalue={searchValue}\n\t\t\t\thandleInput={handleSearch}\n\t\t\t/>\n\n\t\t\t<h2>Add a new</h2>\n\n\t\t\t<AddForm\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\thandleChange={handleChange}\n\t\t\t\tname={newName}\n\t\t\t\tnumber={newNumber}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\n\t\t\t<Persons persons={data} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}